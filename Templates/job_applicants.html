<!DOCTYPE html>
<html>
<head>
  <title>Applicants</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
  body {
    background: linear-gradient(135deg, #000000, #0f3d2e);
    color: white;
    font-family: "Segoe UI", sans-serif;
  }

  h2 {
    color: #00ff99;
    font-weight: 700;
  }

  .container {
    background: #0b0b0b;
    padding: 35px;
    border-radius: 18px;
    box-shadow: 0 0 40px rgba(0, 255, 140, 0.25);
  }

  .table {
    background: #111;
    color: white;
  }

  .table th {
    background: #1a1a1a;
    color: #00ff99;
  }

  .btn-view {
    background-color: #00ff99;
    color: black;
    font-weight: 600;
    border-radius: 8px;
  }

  .btn-view:hover {
    background-color: #00cc7a;
  }

  select {
    background: #111 !important;
    color: white !important;
    border: 1px solid #1f1f1f !important;
  }
</style>
</head>

<body>

<div class="container mt-5">
  <h2>Applicants</h2>
  <hr>

  <table class="table table-bordered align-middle text-center">
    <thead>
      <tr>
        <th>Applicant Name</th>
        <th>ATS Score</th>
        <th>Update Status</th>
        <th>View Details</th>
      </tr>
    </thead>

    <tbody>
      {% for a in applicants %}
      <tr>
        <!-- Applicant Name -->
        <td><b>{{ a[1] }} {{ a[2] }}</b></td>

        <!-- ATS Score -->
        <td>
          <span class="badge bg-info">{{ a[3] }}</span>
        </td>

        <!-- Dropdown Status -->
        <td>
          <form method="GET" action="/update-status/{{ a[0] }}/">
            <select onchange="if(this.value) window.location='/update-status/{{ a[0] }}/' + this.value;">
              <option value="">Select</option>
              <option value="Shortlisted">Shortlist</option>
              <option value="Rejected">Reject</option>
            </select>
          </form>
        </td>

        <!-- View Full Form -->
        <td>
          <a href="/view-application/{{ a[0] }}" class="btn btn-view btn-sm">
            View Full Details
          </a>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="4">No applicants found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

</body>
</html>
