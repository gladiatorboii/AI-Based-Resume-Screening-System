<!DOCTYPE html>
<html>
<head>
    <title>My Applications</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #000000, #0f3d2e);
            color: white;
            font-family: "Segoe UI", sans-serif;
        }

        .application-card {
            background: #111;
            border: 1px solid #1f1f1f;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: 0.3s;
        }

        .application-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 20px rgba(0, 255, 140, 0.3);
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
    <a class="navbar-brand" href="/">Careers</a>

    <div class="ms-auto">
      {% if session.get("user") %}
      <!-- USER LOGGED IN -->
      <span class="text-white me-3">
        Hello {{ session.get("first_name") }}, hope you have a great day ðŸ™‚
      </span>

      <a href="/user-dashboard" class="btn btn-info btn-sm me-2">
        My Applications
      </a>

      <a href="/logout" class="btn btn-danger btn-sm">
        Logout
      </a>

      {% else %}
      <!-- NOT LOGGED IN -->
      <a href="/user-login" class="btn btn-success btn-sm me-2">User Login</a>
      <a href="/user-register" class="btn btn-primary btn-sm me-2">Register</a>
      <a href="/login" class="btn btn-warning btn-sm">HR / Admin</a>
      {% endif %}
    </div>
  </nav>


<div class="container mt-5">
    <h2 class="text-success mb-4">My Applications</h2>

    {% for app in applications %}
    <div class="application-card d-flex justify-content-between align-items-center">

        <div>
            <h5>{{ app[1] }}</h5>
            <small>Applied on: {{ app[3] }}</small><br>

            {% if app[2] == "Shortlisted" %}
                <span class="badge bg-success">Shortlisted</span>
            {% elif app[2] == "Rejected" %}
                <span class="badge bg-danger">Rejected</span>
            {% else %}
                <span class="badge bg-warning text-dark">Pending</span>
            {% endif %}
        </div>

        <div>
            <a href="/application-overview/{{ app[0] }}" 
               class="btn btn-outline-success btn-sm">
               View Details
            </a>
        </div>

    </div>

    {% else %}
        <p>No applications submitted yet.</p>
    {% endfor %}

</div>

</body>
</html>
